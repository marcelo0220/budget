<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Budget Pro AI+ ‚úÖ RESPONSIVE 100% MOBILE</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
/* RESET + MOBILE FIRST */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#3f51b5;--accent:#ffd700;--glass:rgba(255,255,255,0.1);--success:#4ecdc4;--warning:#ff6b6b;--danger:#ef4444;--bg-dark:linear-gradient(135deg,#0a0e17,#1a237e);--radius:16px;--spacing-xs:8px;--spacing-sm:12px;--spacing-md:16px;--spacing-lg:20px;--spacing-xl:24px}
body{font-family:'Inter',sans-serif;background:var(--bg-dark);color:#fff;min-height:100vh;line-height:1.5;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;overflow-x:hidden}
.light{--glass:rgba(0,0,0,0.05);background:#f8fafc;color:#1e293b}

/* CONTAINER RESPONSIVE */
.container{max-width:1400px;margin:0 auto;padding:var(--spacing-md)}
@media (max-width:480px){.container{padding:var(--spacing-sm)}}

/* TYPOGRAPHIE ADAPTATIVE */
h1,h2,h3{font-weight:700;line-height:1.2}
h1{font-size:clamp(1.5rem,5vw,2rem)}
h2{font-size:clamp(1.25rem,4vw,1.5rem)}
h3{font-size:clamp(1rem,3vw,1.25rem)}

/* HEADER */
header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg) 0;gap:var(--spacing-md)}
.theme-toggle{width:clamp(44px,12vw,52px);height:clamp(44px,12vw,52px);border-radius:50%;background:var(--glass);border:2px solid rgba(255,255,255,0.3);cursor:pointer;font-size:clamp(18px,5vw,20px);transition:all 0.3s;flex-shrink:0}

/* CARDS */
.balance-card{background:var(--glass);backdrop-filter:blur(20px);border-radius:var(--radius);padding:var(--spacing-xl);margin-bottom:var(--spacing-lg);border:1px solid rgba(255,255,255,0.15)}
.balance-label{font-size:clamp(0.8rem,2.5vw,0.875rem);font-weight:600;opacity:0.9;margin-bottom:var(--spacing-sm);display:flex;align-items:center;gap:var(--spacing-xs)}
.balance-amount{font-size:clamp(1.5rem,7vw,2.5rem);font-weight:700;margin:var(--spacing-md) 0;background:linear-gradient(135deg,#fff,#ffd700);-webkit-background-clip:text;-webkit-text-fill-color:transparent}

/* STATS GRID */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(clamp(140px,35vw,180px),1fr));gap:var(--spacing-md);margin:var(--spacing-xl) 0}
.stat-card{background:var(--glass);padding:var(--spacing-lg);border-radius:var(--radius);border:1px solid rgba(255,255,255,0.15);text-align:center;transition:all 0.2s;cursor:pointer}
.stat-card:hover{transform:translateY(-4px)}

/* ACTIONS */
.actions{display:flex;flex-wrap:wrap;gap:var(--spacing-md);margin:var(--spacing-xl) 0}
.btn{flex:1;min-width:clamp(110px,25vw,140px);padding:var(--spacing-md);border:none;border-radius:14px;font-weight:600;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs);position:relative;z-index:10;font-size:clamp(0.875rem,3vw,1rem)}
.btn-primary{background:var(--primary);color:#fff}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(63,81,181,0.4)}
.btn-secondary{background:var(--glass);border:2px solid rgba(255,255,255,0.3);color:#fff}
.btn-secondary:hover{background:rgba(255,255,255,0.2)}

/* FORM */
.form-group{margin-bottom:var(--spacing-lg)}
.form-group label{font-weight:600;font-size:clamp(0.875rem,2.5vw,0.9375rem);display:block;margin-bottom:var(--spacing-xs)}
.form-group input,.form-group select{width:100%;padding:clamp(12px,4vw,16px);border-radius:12px;border:2px solid rgba(26,35,126,0.2);font-size:clamp(14px,4vw,16px);background:#fff;color:#1a237e}
.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(63,81,181,0.1)}

/* SEARCH */
.search-box{width:100%;padding:clamp(14px,4vw,18px);border-radius:14px;border:2px solid rgba(255,255,255,0.2);background:var(--glass);color:#fff;font-size:clamp(14px,4vw,16px);margin-bottom:var(--spacing-lg)}
.search-box:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(255,215,0,0.2)}

/* TRANSACTIONS */
.transactions{background:var(--glass);padding:var(--spacing-xl);border-radius:var(--radius);border:1px solid rgba(255,255,255,0.15);margin-bottom:var(--spacing-lg)}
.transaction-item{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg);border-radius:14px;margin-bottom:var(--spacing-sm);background:rgba(255,255,255,0.08);cursor:pointer;transition:all 0.2s;position:relative;z-index:10}
.transaction-item:hover{background:rgba(255,255,255,0.15);transform:translateX(4px)}
.transaction-info{display:flex;gap:var(--spacing-md);align-items:center;flex:1}
.transaction-icon{width:clamp(40px,12vw,48px);height:clamp(40px,12vw,48px);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:clamp(20px,6vw,24px)}
.transaction-amount{font-size:clamp(1rem,4vw,1.125rem);font-weight:700}
.positive{color:var(--success)}
.negative{color:var(--warning)}

/* MODAL RESPONSIVE */
.modal,.category-modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);z-index:1000;align-items:center;justify-content:center;padding:var(--spacing-md)}
.modal.active,.category-modal.active{display:flex}
.modal-content,.category-modal-content{background:#fff;color:#1a237e;width:100%;max-width:90vw;max-height:90vh;border-radius:var(--radius);padding:clamp(24px,6vw,32px);overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,0.5);animation:slideIn 0.3s}
@keyframes slideIn{from{opacity:0;transform:translateY(-20px) scale(0.95)}to{opacity:1;transform:translateY(0) scale(1)}}

/* CATEGORY GRID */
.category-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(clamp(60px,18vw,80px),1fr));gap:var(--spacing-sm);margin-top:var(--spacing-md)}
.category-btn{padding:clamp(12px,5vw,18px);border-radius:14px;border:2px solid rgba(26,35,126,0.3);cursor:pointer;font-size:clamp(20px,8vw,26px);text-align:center;transition:all 0.2s;background:rgba(255,255,255,0.1);position:relative;z-index:10}
.category-btn:hover{transform:scale(1.05);background:rgba(63,81,181,0.2)}
.category-btn.active{border-color:var(--accent);background:rgba(255,215,0,0.3);transform:scale(1.1)}

/* SUGGESTIONS RESPONSIVE */
.suggestion-item{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg);border-bottom:1px solid rgba(255,255,255,0.1);transition:all 0.2s;cursor:pointer;flex-wrap:wrap;gap:var(--spacing-sm)}
.suggestion-item:hover{background:rgba(255,255,255,0.1)}
@media (max-width:640px){.suggestion-item{flex-direction:column;text-align:center;gap:var(--spacing-md)}}
.suggestion-item input{width:clamp(100px,30vw,160px);padding:clamp(8px,3vw,12px);border-radius:10px;border:2px solid rgba(255,215,0,0.5);background:#fff;color:#000;font-size:clamp(14px,4vw,16px);text-align:right;font-weight:600}
.suggestion-item input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(255,215,0,0.2)}
.budget-ok,.budget-warning,.budget-danger{padding:var(--spacing-sm);border-radius:12px}
.budget-ok{border-left:4px solid var(--success);background:var(--success)10}
.budget-warning{border-left:4px solid var(--warning);background:var(--warning)15}
.budget-danger{border-left:4px solid var(--danger);background:var(--danger)20}
.spent-info{font-size:clamp(0.75rem,2.5vw,0.875rem);opacity:0.8;margin-top:var(--spacing-xs)}
.progress-bar{width:clamp(60px,20vw,90px);height:6px;background:rgba(255,255,255,0.2);border-radius:3px;overflow:hidden;display:inline-block;margin-left:var(--spacing-xs);vertical-align:middle}
.progress-fill{height:100%;transition:width 0.5s ease;border-radius:3px}
.progress-ok{background:var(--success)}
.progress-warning{background:var(--warning)}
.progress-danger{background:var(--danger)}

/* PROFILE BADGES */
.profile-badges{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-md);flex-wrap:wrap}
.profile-badge{padding:clamp(8px,3vw,12px) clamp(12px,4vw,16px);border-radius:25px;border:2px solid rgba(255,255,255,0.4);font-size:clamp(0.75rem,2.5vw,0.875rem);font-weight:600;cursor:pointer;transition:all 0.2s;display:flex;align-items:center;gap:var(--spacing-xs);position:relative;z-index:10;flex:1;min-width:120px;justify-content:center}
@media (max-width:480px){.profile-badge{min-width:auto;flex:1}}
.profile-badge:hover{background:rgba(255,255,255,0.2);transform:translateY(-2px)}
.profile-badge.active{background:rgba(255,215,0,0.3);border-color:var(--accent)}

/* CHART RESPONSIVE */
.chart-container{background:var(--glass);border-radius:var(--radius);padding:var(--spacing-lg);margin:var(--spacing-xl) 0;border:1px solid rgba(255,255,255,0.15)}
#expensesChart{max-height:300px;width:100%!important;height:auto!important}

/* TOAST MOBILE */
.toast{position:fixed;top:var(--spacing-md);right:var(--spacing-md);left:var(--spacing-md);background:var(--success);color:#fff;padding:clamp(12px,4vw,16px);border-radius:12px;z-index:3000;font-weight:600;transform:translateY(-100%);transition:all 0.4s}
@media (min-width:768px){.toast{left:auto;right:var(--spacing-lg);top:var(--spacing-lg);max-width:400px}}
.toast.show{transform:translateY(0)}

/* NOUVELLE MODAL CAT√âGORIE RESPONSIVE */
.new-cat-icon-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(clamp(50px,15vw,70px),1fr));gap:var(--spacing-sm);margin:var(--spacing-md) 0}
.new-cat-icon-btn{padding:clamp(12px,5vw,16px);border-radius:14px;border:2px solid rgba(26,35,126,0.3);cursor:pointer;font-size:clamp(20px,8vw,24px);text-align:center;transition:all 0.2s;background:rgba(255,255,255,0.1)}
.new-cat-icon-btn:hover{transform:scale(1.1);background:rgba(63,81,181,0.2)}
.new-cat-icon-btn.active{border-color:var(--accent);background:rgba(255,215,0,0.3)}

/* SWITCH MOBILE */
.switch{position:relative;display:inline-block;width:clamp(50px,15vw,60px);height:clamp(28px,8vw,34px)}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#ccc;transition:0.4s;border-radius:34px}
.slider:before{position:absolute;content:"";height:clamp(20px,6vw,26px);width:clamp(20px,6vw,26px);left:4px;bottom:4px;background:#fff;transition:0.4s;border-radius:50%}
input:checked+.slider{background:var(--primary)}
input:checked+.slider:before{transform:translateX(clamp(22px,7vw,26px))}

/* MEDIA QUERIES FINES */
@media (max-width:480px){
    .actions{flex-direction:column}
    .btn{flex:1}
    .stats-grid{grid-template-columns:repeat(2,1fr);gap:var(--spacing-sm)}
    .transaction-item{flex-direction:column;gap:var(--spacing-md);text-align:center}
    .transaction-amount{margin-top:var(--spacing-sm)}
    .suggestion-item{flex-direction:column;text-align:center}
    .profile-badges{flex-direction:column}
}

@media (max-width:360px){
    .container{padding:var(--spacing-xs)}
    .stats-grid{grid-template-columns:1fr}
}

/* GESTES TACTILES */
@media (hover:none) and (pointer:coarse){
    .stat-card:hover,.btn:hover,.transaction-item:hover,.category-btn:hover{transform:none}
    .btn:active,.transaction-item:active{transform:scale(0.98)}
}
</style>
</head>
<body>
<!-- TOUT LE HTML EXISTANT RESTE IDENTIQUE -->
<div class="container">
<header>
<h1>üèõ Budget Pro AI+ Mobile</h1>
<button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="Th√®me">üåô</button>
</header>

<!-- CONFIG -->
<div class="balance-card">
<div class="balance-label">‚öôÔ∏è Configuration</div>
<div class="form-group">
<label>Budget mensuel (Ar)</label>
<input type="number" id="monthlyBudget" min="0" placeholder="500000" oninput="saveConfig()" inputmode="numeric">
</div>
<div class="form-group">
<label>Personnes au foyer</label>
<input type="number" id="peopleCount" min="1" value="1" max="10" oninput="saveConfig()" inputmode="numeric">
</div>
<div class="form-group">
<label>Paye loyer?</label>
<div style="display:flex;align-items:center;gap:var(--spacing-sm)">
<input type="checkbox" id="payRent" onchange="saveConfig()">
<span style="font-size:clamp(0.875rem,3vw,0.9375rem)">Oui</span>
</div>
</div>
<div class="form-group">
<label>Profil</label>
<div class="profile-badges">
<button class="profile-badge active" onclick="selectProfile('balanced')">‚öñÔ∏è √âquilibr√©</button>
<button class="profile-badge" onclick="selectProfile('security')">üõ°Ô∏è S√©curit√©</button>
<button class="profile-badge" onclick="selectProfile('comfort')">üéâ Confort</button>
</div>
</div>
</div>

<!-- STATS -->
<div class="stats-grid">
<div class="stat-card"><div class="balance-label">üí∞ Budget total</div><div class="balance-amount" id="totalBudget">0 Ar</div></div>
<div class="stat-card"><div class="balance-label">üíµ Solde actuel</div><div class="balance-amount" id="balance">0 Ar</div></div>
<div class="stat-card"><div class="balance-label">üíé √âpargne</div><div class="balance-amount" id="savings">0 Ar</div></div>
<div class="stat-card"><div class="balance-label">‚ö†Ô∏è Reste √† vivre</div><div class="balance-amount" id="resteAVivre">0 Ar</div></div>
</div>

<!-- ACTIONS -->
<div class="actions">
<button class="btn btn-primary" onclick="openModal()">‚ûï Transaction</button>
<button class="btn btn-secondary" onclick="openCategoryModal()">‚≠ê Cat√©gorie</button>
<button class="btn btn-secondary" onclick="exportData()">üìä Exporter</button>
<button class="btn btn-secondary" onclick="resetData()">üßπ Reset</button>
</div>

<input class="search-box" id="searchInput" placeholder="üîç Recherche..." oninput="renderTransactions()">

<!-- CHART -->
<div class="chart-container">
<canvas id="expensesChart"></canvas>
</div>

<!-- SUGGESTIONS -->
<div class="balance-card">
<h3>üí° Budget + Alertes</h3>
<div id="suggestionList"></div>
</div>

<!-- TRANSACTIONS -->
<div class="transactions">
<h3>üìã Transactions</h3>
<div id="transactionsList">Aucune transaction</div>
</div>
</div>

<!-- TOAST + MODALS (identiques) -->
<div class="toast" id="toast"></div>
<!-- Modal transaction + Modal cat√©gorie identiques -->

<script>
/* JAVASCRIPT IDENTIQUE √Ä LA VERSION PR√âC√âDENTE */
document.addEventListener('DOMContentLoaded', function() {
    loadUI();
    renderAll();
});
// ... toutes les fonctions pr√©c√©dentes restent identiques
</script>
</body>
</html>
