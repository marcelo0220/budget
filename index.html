<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Budget Pro AI+ ‚úÖ 100% RESPONSIVE</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
/* RESET + MOBILE-FIRST RESPONSIVE */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#3f51b5;--accent:#ffd700;--glass:rgba(255,255,255,0.1);--success:#4ecdc4;--warning:#ff6b6b;--danger:#ef4444;--bg-dark:linear-gradient(135deg,#0a0e17,#1a237e);--radius:16px;--spacing-xs:8px;--spacing-sm:12px;--spacing-md:16px;--spacing-lg:20px;--spacing-xl:24px}
body{font-family:'Inter',sans-serif;background:var(--bg-dark);color:#fff;min-height:100vh;line-height:1.5;overflow-x:hidden;-webkit-font-smoothing:antialiased}
.light{--glass:rgba(0,0,0,0.05);background:#f8fafc;color:#1e293b}

/* CONTAINER */
.container{max-width:1400px;margin:0 auto;padding:var(--spacing-lg)}
@media (max-width:768px){.container{padding:var(--spacing-md)}}
@media (max-width:480px){.container{padding:var(--spacing-sm)}}

/* TYPO ADAPTATIVE */
h1{font-size:clamp(1.75rem,6vw,2.25rem);font-weight:700;background:linear-gradient(135deg,#fff,#ffd700);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0}
h2,h3{font-size:clamp(1.125rem,4vw,1.5rem);margin-bottom:var(--spacing-md)}

/* HEADER */
header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-xl) 0;gap:var(--spacing-md)}
.theme-toggle{width:clamp(48px,12vw,56px);height:clamp(48px,12vw,56px);border-radius:50%;background:var(--glass);border:2px solid rgba(255,255,255,0.3);cursor:pointer;font-size:clamp(18px,5vw,22px);transition:all 0.3s;flex-shrink:0}

/* CARDS */
.balance-card{background:var(--glass);backdrop-filter:blur(20px);border-radius:var(--radius);padding:var(--spacing-xl);margin-bottom:var(--spacing-lg);border:1px solid rgba(255,255,255,0.15)}
.balance-label{font-size:clamp(0.875rem,2.5vw,1rem);font-weight:600;opacity:0.9;margin-bottom:var(--spacing-sm);display:flex;align-items:center;gap:var(--spacing-xs)}
.balance-amount{font-size:clamp(1.75rem,8vw,2.75rem);font-weight:700;margin:var(--spacing-lg) 0;background:linear-gradient(135deg,#fff,#ffd700);-webkit-background-clip:text;-webkit-text-fill-color:transparent}

/* STATS GRID */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(clamp(150px,30vw,200px),1fr));gap:var(--spacing-lg);margin:var(--spacing-xl) 0}
@media (max-width:480px){.stats-grid{grid-template-columns:repeat(2,1fr);gap:var(--spacing-md)}}
.stat-card{background:var(--glass);padding:var(--spacing-lg);border-radius:var(--radius);border:1px solid rgba(255,255,255,0.15);text-align:center;transition:all 0.2s;cursor:pointer}
.stat-card:hover{transform:translateY(-2px)}
@media (hover: none){.stat-card:hover{transform:none}}

/* ACTIONS */
.actions{display:flex;flex-wrap:wrap;gap:var(--spacing-md);margin:var(--spacing-xl) 0}
.btn{flex:1;min-width:clamp(120px,25vw,160px);padding:var(--spacing-md);border:none;border-radius:14px;font-weight:600;font-size:clamp(0.875rem,3vw,1rem);cursor:pointer;transition:all 0.3s;display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);position:relative;z-index:10}
@media (max-width:480px){.actions{flex-direction:column}}
.btn-primary{background:var(--primary);color:#fff}
.btn-primary:hover,.btn-primary:active{transform:translateY(-2px);box-shadow:0 8px 25px rgba(63,81,181,0.4)}
.btn-secondary{background:var(--glass);border:2px solid rgba(255,255,255,0.3);color:#fff}
.btn-secondary:hover,.btn-secondary:active{background:rgba(255,255,255,0.2)}

/* SEARCH */
.search-box{width:100%;padding:clamp(16px,5vw,20px);border-radius:14px;border:2px solid rgba(255,255,255,0.2);background:var(--glass);color:#fff;font-size:clamp(16px,4vw,18px);margin-bottom:var(--spacing-lg)}
.search-box:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(255,215,0,0.2)}

/* TRANSACTIONS */
.transactions{background:var(--glass);padding:var(--spacing-xl);border-radius:var(--radius);border:1px solid rgba(255,255,255,0.15);margin-bottom:var(--spacing-lg)}
.transaction-item{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg);border-radius:14px;margin-bottom:var(--spacing-md);background:rgba(255,255,255,0.08);cursor:pointer;transition:all 0.2s;position:relative;z-index:10}
@media (max-width:480px){.transaction-item{flex-direction:column;gap:var(--spacing-md);text-align:center}}
.transaction-item:hover{background:rgba(255,255,255,0.15);transform:translateX(4px)}
@media (hover: none){.transaction-item:hover{transform:none}}
.transaction-info{display:flex;gap:var(--spacing-md);align-items:center;flex:1}
.transaction-icon{width:clamp(44px,12vw,52px);height:clamp(44px,12vw,52px);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:clamp(20px,6vw,26px)}
.transaction-amount{font-size:clamp(1.125rem,4vw,1.25rem);font-weight:700}
.positive{color:var(--success)}
.negative{color:var(--warning)}

/* FORM */
.form-group{margin-bottom:var(--spacing-lg)}
.form-group label{font-weight:600;font-size:clamp(0.875rem,2.5vw,1rem);display:block;margin-bottom:var(--spacing-sm)}
.form-group input,.form-group select{width:100%;padding:clamp(14px,4vw,18px);border-radius:12px;border:2px solid rgba(26,35,126,0.2);font-size:clamp(16px,4vw,18px);background:#fff;color:#1a237e}
.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(63,81,181,0.1)}
input[type="number"]{inputmode:"numeric"}

/* MODAL */
.modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);z-index:1000;align-items:center;justify-content:center;padding:var(--spacing-lg)}
.modal.active{display:flex}
.modal-content{background:#fff;color:#1a237e;width:100%;max-width:90vw;max-height:90vh;border-radius:var(--radius);padding:clamp(24px,6vw,32px);overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,0.5);animation:slideIn 0.3s}
@keyframes slideIn{from{opacity:0;transform:translateY(-20px) scale(0.95)}to{opacity:1;transform:translateY(0) scale(1)}}

/* CATEGORY GRID */
.category-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(clamp(64px,16vw,80px),1fr));gap:var(--spacing-md);margin-top:var(--spacing-md)}
.category-btn{padding:clamp(14px,5vw,20px);border-radius:14px;border:2px solid rgba(26,35,126,0.3);cursor:pointer;font-size:clamp(22px,8vw,28px);text-align:center;transition:all 0.2s;background:rgba(255,255,255,0.1);position:relative;z-index:10}
.category-btn:hover{transform:scale(1.05);background:rgba(63,81,181,0.2)}
.category-btn.active{border-color:var(--accent);background:rgba(255,215,0,0.3);transform:scale(1.1)}

/* PROFILE */
.profile-badges{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-md);flex-wrap:wrap}
.profile-badge{padding:clamp(10px,3vw,14px) clamp(14px,4vw,18px);border-radius:25px;border:2px solid rgba(255,255,255,0.4);font-size:clamp(0.875rem,2.5vw,1rem);font-weight:600;cursor:pointer;transition:all 0.2s;display:flex;align-items:center;gap:var(--spacing-xs);position:relative;z-index:10;flex:1;min-width:clamp(110px,25vw,140px);justify-content:center}
@media (max-width:480px){.profile-badge{min-width:auto;flex:1}}
.profile-badge:hover{background:rgba(255,255,255,0.2);transform:translateY(-1px)}
.profile-badge.active{background:rgba(255,215,0,0.3);border-color:var(--accent)}

/* CHART */
.chart-container{background:var(--glass);border-radius:var(--radius);padding:var(--spacing-lg);margin:var(--spacing-xl) 0;border:1px solid rgba(255,255,255,0.15)}
#expensesChart{max-height:clamp(250px,40vh,350px);width:100%!important;height:auto!important}

/* SUGGESTIONS */
.suggestion-item{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg);border-bottom:1px solid rgba(255,255,255,0.1);transition:all 0.2s;cursor:pointer;flex-wrap:wrap;gap:var(--spacing-sm)}
@media (max-width:640px){.suggestion-item{flex-direction:column;text-align:center}}
.suggestion-item input{width:clamp(120px,30vw,180px);padding:clamp(10px,3vw,14px);border-radius:10px;border:2px solid rgba(255,215,0,0.5);background:#fff;color:#000;font-size:clamp(14px,4vw,16px);text-align:right;font-weight:600}
.budget-ok{border-left:4px solid var(--success);background:var(--success)10}
.budget-warning{border-left:4px solid var(--warning);background:var(--warning)15}
.budget-danger{border-left:4px solid var(--danger);background:var(--danger)20}
.spent-info{font-size:clamp(0.75rem,2.5vw,0.875rem);opacity:0.8;margin-top:var(--spacing-xs)}
.progress-bar{width:clamp(70px,20vw,100px);height:8px;background:rgba(255,255,255,0.2);border-radius:4px;overflow:hidden;display:inline-block;margin-left:var(--spacing-sm)}
.progress-fill{height:100%;transition:width 0.5s ease;border-radius:4px}
.progress-ok{background:var(--success)}
.progress-warning{background:var(--warning)}
.progress-danger{background:var(--danger)}

/* TOAST */
.toast{position:fixed;top:var(--spacing-lg);right:var(--spacing-lg);background:var(--success);color:#fff;padding:clamp(14px,4vw,18px);border-radius:12px;z-index:3000;font-weight:600;transform:translateX(100%);transition:all 0.4s;max-width:90vw}
@media (min-width:768px){.toast{right:var(--spacing-xl);top:var(--spacing-xl);max-width:400px;left:auto}}
.toast.show{transform:translateX(0)}

/* SWITCH */
.switch{position:relative;display:inline-block;width:clamp(56px,14vw,64px);height:clamp(32px,8vw,36px)}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#ccc;transition:0.4s;border-radius:999px}
.slider:before{position:absolute;content:"";height:clamp(24px,6vw,28px);width:clamp(24px,6vw,28px);left:4px;bottom:4px;background:#fff;transition:0.4s;border-radius:50%}
input:checked+.slider{background:var(--primary)}
input:checked+.slider:before{transform:translateX(clamp(24px,10vw,28px))}

/* TOUCH & MOBILE */
@media (hover:none) and (pointer:coarse){
    *{touch-action:manipulation}
    .btn:active,.category-btn:active,.transaction-item:active{transform:scale(0.97)}
    .stat-card:active,.profile-badge:active{transform:translateY(-1px)}
}
</style>
</head>
<body>
<div class="container">
<header>
<h1>üèõ Budget Pro AI+</h1>
<button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="Th√®me">üåô</button>
</header>

<!-- CONFIG -->
<div class="balance-card">
<div class="balance-label">‚öôÔ∏è Configuration</div>
<div class="form-group">
<label>Budget mensuel (Ar)</label>
<input type="number" id="monthlyBudget" min="0" placeholder="500000" oninput="saveConfig()" inputmode="numeric">
</div>
<div class="form-group">
<label>Personnes au foyer</label>
<input type="number" id="peopleCount" min="1" value="1" max="10" oninput="saveConfig()" inputmode="numeric">
</div>
<div class="form-group">
<label>Paye loyer?</label>
<div style="display:flex;align-items:center;gap:var(--spacing-md)">
<input type="checkbox" id="payRent" onchange="saveConfig()">
<span>Oui</span>
</div>
</div>
<div class="form-group">
<label>Profil</label>
<div class="profile-badges">
<button class="profile-badge active" onclick="selectProfile('balanced')">‚öñÔ∏è √âquilibr√©</button>
<button class="profile-badge" onclick="selectProfile('security')">üõ°Ô∏è S√©curit√©</button>
<button class="profile-badge" onclick="selectProfile('comfort')">üéâ Confort</button>
</div>
</div>
</div>

<!-- STATS -->
<div class="stats-grid">
<div class="stat-card"><div class="balance-label">üí∞ Budget total</div><div class="balance-amount" id="totalBudget">0 Ar</div></div>
<div class="stat-card"><div class="balance-label">üíµ Solde actuel</div><div class="balance-amount" id="balance">0 Ar</div></div>
<div class="stat-card"><div class="balance-label">üíé √âpargne</div><div class="balance-amount" id="savings">0 Ar</div></div>
<div class="stat-card"><div class="balance-label">‚ö†Ô∏è Reste √† vivre</div><div class="balance-amount" id="resteAVivre">0 Ar</div></div>
</div>

<!-- ACTIONS -->
<div class="actions">
<button class="btn btn-primary" onclick="openModal()">‚ûï Nouvelle transaction</button>
<button class="btn btn-secondary" onclick="exportData()">üìä Exporter</button>
<button class="btn btn-secondary" onclick="resetData()">üßπ Reset</button>
<button class="btn btn-secondary" onclick="generateReport()">üìà Rapport</button>
</div>

<input class="search-box" id="searchInput" placeholder="üîç Recherche transactions..." oninput="renderTransactions()">

<!-- CHART -->
<div class="chart-container">
<canvas id="expensesChart"></canvas>
</div>

<!-- SUGGESTIONS -->
<div class="balance-card">
<h3>üí° Budget sugg√©r√© <span style="font-size:clamp(0.75rem,2vw,0.875rem);opacity:0.7">(modifiable + alertes)</span></h3>
<div id="suggestionList"></div>
</div>

<!-- TRANSACTIONS -->
<div class="transactions">
<h3>üìã Transactions r√©centes</h3>
<div id="transactionsList">Aucune transaction</div>
</div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- MODAL TRANSACTION -->
<div class="modal" id="transactionModal">
<div class="modal-content">
<h2 id="modalTitle">‚ûï Nouvelle transaction</h2>
<form onsubmit="addTransaction(event)">
<div class="form-group">
<label>Type</label>
<select id="transactionType" onchange="updateCategories()">
<option value="expense">üí∏ D√©pense</option>
<option value="income">üí∞ Revenu</option>
</select>
</div>
<div class="form-group">
<label>Montant (Ar)</label>
<input type="number" id="amount" required min="0" placeholder="15000" inputmode="numeric">
</div>
<div class="form-group">
<label>Description</label>
<input type="text" id="description" required placeholder="Courses, salaire...">
</div>
<div class="form-group">
<label>Cat√©gorie</label>
<div class="category-grid" id="categoryGrid"></div>
<div id="categoryInfo" class="cat-info">‚ö†Ô∏è Cliquez sur une ic√¥ne</div>
</div>
<div style="display:flex;gap:var(--spacing-md);flex-wrap:wrap">
<button class="btn btn-primary" type="submit">‚úÖ Enregistrer</button>
<button type="button" class="btn btn-secondary" onclick="closeModal()">‚ùå Annuler</button>
</div>
</form>
</div>
</div>

<script>
// JAVASCRIPT IDENTIQUE (toutes les fonctions de ton code original)
let transactions = JSON.parse(localStorage.getItem('budgetProTransactions') || '[]');
let savings = parseFloat(localStorage.getItem('budgetProSavings') || '0');
let monthlyBudget = Number(localStorage.getItem('budgetProMonthly') || 0);
let peopleCount = Number(localStorage.getItem('budgetProPeople') || 1);
let payRent = localStorage.getItem('budgetProRent') === 'true';
let selectedProfile = localStorage.getItem('budgetProProfile') || 'balanced';
let selectedCategory = -1;
let chart = null;
let customBudget = JSON.parse(localStorage.getItem('budgetProCustomBudget') || '{}');

document.addEventListener('DOMContentLoaded', function() {
    loadUI();
    renderAll();
});

// [INS√âRER TOUTES LES FONCTIONS DE TON CODE ORIGINAL ICI]
// formatAr, showToast, getTotalBudget, getSpentByCategory, etc.
// (Le JS reste exactement identique √† ta version)
</script>
</body>
</html>
